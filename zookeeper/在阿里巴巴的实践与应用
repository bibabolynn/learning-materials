消息中间件 metamorphosis
  适用于大吞吐量、顺序消息、消息广播和日志数据传输等分布式应用场景，基于pull，zookeeper实现负载均衡和offset的存储
  生产者负载均衡：生产者会获取到已经配置好的topic对应的broker和分区列表，生产者会维护一个分区列表，发消息时，选择一台broker上的一个分区来发消息，
              问题：因为从故障到生产者感知这个变化有一定的延迟，所以可能在一瞬间会有部分的消息发送失败
  消费者负载均衡，为单个分组内的消费者集群的负载均衡
    消费者数和topic分区数一致，则一一对应
    消费者数大于topic分区数，多出来的不参与消费
    消费者数小于分区数，则有部分消费者需要承担额外的消费任务，每个分区至多同时允许被一个消费者消费
    
    
    
Dubbo
  核心部分：
  远程通信：提供对多种基于长连接的NIO框架抽象封装，包括多线程模型、序列化以及“请求-响应”模式的信息交换方式
  集群容错：提供基于接口方法的远程过程透明调用，包括对多协议的支持，以及对软负载均衡、失败容错、地址路由和动态配置等集群特性的支持
  自动发现：提供基于注册中心的目录服务，使服务消费方能动态地查找服务提供方，使地址透明，使服务提供方可以平滑的增加或减少机器。
  基于zookeeper实现服务注册中心，用于服务的注册和订阅。
  基于zookeeper实现的注册中心节点结构示意图见issues（搜索 dubbo 和 zookeeper）
  
  
  

  
  
